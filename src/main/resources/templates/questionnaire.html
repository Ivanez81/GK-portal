<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <script th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}" type="text/javascript"></script>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/main.css}" type="text/css"/>
</head>
<body>
<div class="container">
    <div class="padding-site">
        <p th:if="${completed} != null"></p>
        <th:block th:if="${questionnaireList} != null">
            <ul style="margin-top: 100px">
                <li th:each="item :${questionnaireList}">
                    <a th:href="@{/questionnaire(questionnaireId = ${item.uuid})}" th:text="${item.name}"></a>
                </li>
            </ul>
        </th:block>

        <th:block th:if="${notFoundNumber} != null">
            <p><span>Анкета под номером </span><span th:text="${notFoundNumber}"></span><span> не найдена</span></p>
        </th:block>

        <th:block th:if="${questionnaire} != null">
            <h1 th:text="${questionnaire.name}"></h1>
            <p style="font-style: italic" th:text="${questionnaire.description}"></p>
            <form class="questionnaire-form" method="POST" th:action="@{/questionnaire}" th:object="${form}">
                <input th:field="*{questionnaireId}" th:value="${form.questionnaireId}" type="hidden">


                <div class="form-group">
                    <label for="inputFullName">ФИО полностью *</label>
                    <input class="form-control" id="inputFullName" placeholder="Введите Фамилию Имя отчетство"
                           th:field="*{fullName}"
                           type="text">
                </div>

                <div class="form-group">
                    <label for="inputEmail1">Адрес электронной почты</label>
                    <input class="form-control" id="inputEmail1" placeholder="Введите email" th:field="*{email}"
                           type="email">
                </div>

                <div class="form-group">
                    <label for="inputPhone">Ваш контактный номер телефона (мы можем с вами связаться) </label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <div class="input-group-text">+7</div>
                        </div>
                        <input class="form-control" id="inputPhone" placeholder="Введите телефон"
                               th:field="*{phoneNumber}"
                               type="tel">
                    </div>
                </div>

                <!--<div class="form-group"></div>-->

                <th:block th:each="question: ${questionnaire.questions}">
                    <th:block th:if="${question.sortNumber} == 2">
                        <div class="form-group">
                            <label for="inputBuildNumber">Строительный номер объекта </label>
                            <input class="form-control" id="inputBuildNumber"
                                   placeholder="Введите строительный номер объекта" th:field="*{buildNumber}"
                                   type="number" value="357">
                        </div>

                        <div class="form-group">
                            <label for="inputSquare">Площадь помещения без учета балконов и лоджий (как в бюллетене)
                                *</label>
                            <input class="form-control" id="inputSquare" placeholder="Введите площадь помещения"
                                   th:field="*{square}"
                                   type="text">
                        </div>
                    </th:block>

                    <div class="form-group">
                        <label th:text="${question.name}"></label>
                        <th:block th:each="answer, itemStat  : ${question.answers}">
                            <div class="form-check">
                                <input class="form-check-input" th:attr="value=${answer.uuid}"
                                       th:field="*{questionAnswerUuids[__${question.uuid}__]}" th:id="${answer.uuid}"
                                       type="radio">
                                <label class="form-check-label" th:attr="for=${answer.uuid}"
                                       th:text="${answer.name}"></label>
                            </div>

                        </th:block>
                    </div>
                </th:block>
                <button class="btn btn-primary" type="submit">Отправить</button>

            </form>
        </th:block>

    </div>
</div>
</body>
</html>