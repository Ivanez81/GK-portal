<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
    <link type="text/css" rel="stylesheet" th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}"/>
    <link type="text/css" rel="stylesheet" th:href="@{/css/main.css}"/>
</head>
<body>
<div class="container">
    <div class="padding-site">
        <th:block th:if="${questionnaireList} != null">
            <ul>
                <li th:each="item :${questionnaireList}">
                    <a th:text="${item.name}" th:href="@{/questionnaire(questionnaireId = ${item.uuid})}"></a>
                </li>
            </ul>
        </th:block>


        <th:block th:if="${notFoundNumber} != null">
            <p><span>Анкета под номером </span><span th:text="${notFound}"></span></p>
        </th:block>

        <th:block th:if="${completed} != null"><p>Данные записаны</p></th:block>
        <th:block th:if="${questionnaire} != null">
            <h1 th:text="${questionnaire.name}"></h1>
            <p style="font-style: italic" th:text="${questionnaire.description}"></p>
            <form th:action="@{/questionnaire}" th:object="${form}" method="POST" class="questionnaire-form">
                <input type="hidden" th:field="*{questionnaireId}" th:value="${form.questionnaireId}">
                <th:block th:each="question: ${questionnaire.questions}">
                    <div class="form-group">
                        <label th:text="${question.name}"></label>
                        <th:block th:each="answer, itemStat  : ${question.answers}">

                            <div class="form-check">
                                <input th:id="${answer.uuid}" th:field="*{questionAnswerUuids[__${question.uuid}__]}"
                                       class="form-check-input" type="radio" th:attr="value=${answer.uuid}">
                                <label th:text="${answer.name}" class="form-check-label"
                                       th:attr="for=${answer.uuid}"></label>
                            </div>

                        </th:block>
                    </div>
                </th:block>
                <button type="submit" class="btn btn-primary">Отправить</button>

            </form>
        </th:block>

    </div>
</div>
</body>
</html>